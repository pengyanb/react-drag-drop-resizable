(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1182:function(module,exports,__webpack_require__){"use strict";var _clientApi=__webpack_require__(51),_clientLogger=__webpack_require__(36),_configFilename=__webpack_require__(1183);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1183:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var parameters={actions:{argTypesRegex:"^on[A-Z].*"}}},1184:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(389).configure)([__webpack_require__(1185),__webpack_require__(1186)],module,!1)}).call(this,__webpack_require__(100)(module))},1185:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=1185},1186:function(module,exports,__webpack_require__){var map={"./stories/resizableDndView.stories.tsx":1192};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1186},1188:function(module,exports,__webpack_require__){},1192:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ResizableDndViewExample",(function(){return resizableDndView_stories_ResizableDndViewExample}));var objectSpread2=__webpack_require__(16),slicedToArray=__webpack_require__(129),jsx_runtime=__webpack_require__(34),react=__webpack_require__(0),react_default=__webpack_require__.n(react),objectWithoutProperties=__webpack_require__(219),toConsumableArray=__webpack_require__(130),searchToAdd=function searchToAdd(viewModalArray,viewModalToAdd,parentViewModal){var added=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!added){if(!parentViewModal)return viewModalArray.push(viewModalToAdd),!0;for(var i=0;i<viewModalArray.length;i++){var _viewModal=viewModalArray[i];if(_viewModal.id===parentViewModal.id){Array.isArray(_viewModal.children)||(_viewModal.children=[]),_viewModal.children.push(viewModalToAdd),added=!0;break}if(Array.isArray(_viewModal.children)&&(added=searchToAdd(_viewModal.children,viewModalToAdd,parentViewModal,added)))break}}return added},searchToRemove=function searchToRemove(viewModalArray,viewModalToRemove){var removed=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!removed)for(var i=0;i<viewModalArray.length;i++){var _viewModal2=viewModalArray[i];if(_viewModal2.id===viewModalToRemove.id){viewModalArray.splice(i,1),removed=!0;break}if(Array.isArray(_viewModal2.children)&&(removed=searchToRemove(_viewModal2.children,viewModalToRemove,removed)))break}return removed},context_useInitialRDndSystemContext=function useInitialRDndSystemContext(){var _useState=Object(react.useState)({viewModalStructure:[],draggingViewModels:[],dropTargetViewModal:null,dropInfo:null}),_useState2=Object(slicedToArray.a)(_useState,2),rDndSystemState=_useState2[0],setDndSystemState=_useState2[1],dndUpdateViewModal=function dndUpdateViewModal(viewModalToUpdate){var viewModalArray=Object(toConsumableArray.a)(rDndSystemState.viewModalStructure);return!!function searchToUpdate(viewModalArray,viewModalToUpdate){var updated=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!updated)for(var i=0;i<viewModalArray.length;i++){var _viewModal3=viewModalArray[i];if(_viewModal3.id===viewModalToUpdate.id){viewModalArray[i]=viewModalToUpdate,updated=!0;break}if(Array.isArray(_viewModal3.children)&&(updated=searchToUpdate(_viewModal3.children,viewModalToUpdate,updated)))break}return updated}(viewModalArray,viewModalToUpdate,!1)&&(setDndSystemState(Object(objectSpread2.a)(Object(objectSpread2.a)({},rDndSystemState),{},{viewModalStructure:viewModalArray})),!0)},dndMoveViewModal=function dndMoveViewModal(viewModalToMove,newParentViewModal){var viewModalArray=Object(toConsumableArray.a)(rDndSystemState.viewModalStructure),removed=searchToRemove(viewModalArray,viewModalToMove,!1),added=searchToAdd(viewModalArray,viewModalToMove,newParentViewModal,!1);return!(!removed&&!added)&&(setDndSystemState(Object(objectSpread2.a)(Object(objectSpread2.a)({},rDndSystemState),{},{viewModalStructure:viewModalArray})),!0)},canDropFilters=[function utilViewModalCanDropFilter(viewModals,toViewModal){if(null==toViewModal)return!0;return!function isInvalidTarget(viewModals,toViewModal){return viewModals.reduce((function(accumulator,viewModal){return accumulator||((viewModal.id===toViewModal.id||null!==dndFindParentViewModal(viewModal,[toViewModal])||Array.isArray(viewModal.children)&&isInvalidTarget(viewModal.children,toViewModal))&&(accumulator=!0),accumulator)}),!1)}(viewModals,toViewModal)}],dndFindParentViewModal=function dndFindParentViewModal(childViewModal,fromViewModals){return null==childViewModal?null:fromViewModals.reduce((function(accumulator,viewModal){return Array.isArray(viewModal.children)&&viewModal.children.map((function(child){if(child.id===childViewModal.id)accumulator=viewModal;else if(Array.isArray(child.children)){var result=dndFindParentViewModal(childViewModal,child.children);result&&(accumulator=result)}})),accumulator}),null)};return{rDndSystemState:rDndSystemState,dndResizeHandler:function dndResizeHandler(viewModal,resizeInfo){var width=resizeInfo.width,height=resizeInfo.height,resizeDirection=resizeInfo.resizeDirection,_resizeInfo$dx=resizeInfo.dx,dx=void 0===_resizeInfo$dx?0:_resizeInfo$dx,_resizeInfo$dy=resizeInfo.dy,dy=void 0===_resizeInfo$dy?0:_resizeInfo$dy,update=!1;width&&width>0&&(viewModal.style.width=width,update=!0),height&&height>0&&(viewModal.style.height=height,update=!0),update&&((null==resizeDirection?void 0:resizeDirection.includes("w"))&&(viewModal.style.left=viewModal.style.left-dx),(null==resizeDirection?void 0:resizeDirection.includes("n"))&&(viewModal.style.top=viewModal.style.top-dy),dndUpdateViewModal(viewModal))},dndDropHandler:function dndDropHandler(dropInfo){console.log("!!!DropHandler: ",dropInfo);var viewModals=dropInfo.viewModals,pos=dropInfo.pos,toViewModal=dropInfo.toViewModal,mouseDownAtViewPos=dropInfo.mouseDownAtViewPos,translation=dropInfo.translation;toViewModal?canDropFilters.reduce((function(accumulator,filter){return accumulator&&filter(viewModals,toViewModal)}),!0)?viewModals.map((function(viewModalToDrop){if(console.log("222222",viewModalToDrop.style,mouseDownAtViewPos),viewModalToDrop.style&&toViewModal.viewRef){var boundingRect=toViewModal.viewRef.current.getBoundingClientRect();viewModalToDrop.style.left=pos.x-boundingRect.x,viewModalToDrop.style.top=pos.y-boundingRect.y,dndUpdateViewModal(viewModalToDrop),dndMoveViewModal(viewModalToDrop,toViewModal)}})):viewModals.map((function(viewModalToDrop){console.log("333333",viewModalToDrop.style,translation),viewModalToDrop.style&&(viewModalToDrop.style.left=viewModalToDrop.style.left+translation.x,viewModalToDrop.style.top=viewModalToDrop.style.top+translation.y,dndUpdateViewModal(viewModalToDrop))})):viewModals.map((function(viewModalToDrop){console.log("111111",viewModalToDrop.style,translation),viewModalToDrop.style.left=viewModalToDrop.style.left+translation.x,viewModalToDrop.style.top=viewModalToDrop.style.top+translation.y,dndUpdateViewModal(viewModalToDrop)}))},dndAddCanDropFilter:function dndAddCanDropFilter(canDropFilter){return canDropFilters.push(canDropFilter)},dndClearDropFilters:function dndClearDropFilters(){return canDropFilters.splice(0,canDropFilters.length)},dndFindParentViewModal:dndFindParentViewModal,dndAddViewModal:function dndAddViewModal(viewModalToAdd,parentViewModal){var viewModalArray=Object(toConsumableArray.a)(rDndSystemState.viewModalStructure);return!!searchToAdd(viewModalArray,viewModalToAdd,parentViewModal,!1)&&(setDndSystemState(Object(objectSpread2.a)(Object(objectSpread2.a)({},rDndSystemState),{},{viewModalStructure:viewModalArray})),!0)},dndRemoveViewModal:function dndRemoveViewModal(viewModalToRemove){var viewModalArray=Object(toConsumableArray.a)(rDndSystemState.viewModalStructure);return!!searchToRemove(viewModalArray,viewModalToRemove,!1)&&(setDndSystemState(Object(objectSpread2.a)(Object(objectSpread2.a)({},rDndSystemState),{},{viewModalStructure:viewModalArray})),!0)},dndUpdateViewModal:dndUpdateViewModal,dndMoveViewModal:dndMoveViewModal,dndSetDropInfo:function dndSetDropInfo(dropInfo){return setDndSystemState((function(state){return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{dropInfo:dropInfo})}))},dndAddDraggingViewModal:function dndAddDraggingViewModal(viewModal){var append=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return setDndSystemState((function(state){return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{draggingViewModels:append?[].concat(Object(toConsumableArray.a)(state.draggingViewModels),[viewModal]):[viewModal]})}))},dndRemoveDraggingViewModal:function dndRemoveDraggingViewModal(viewModal){return setDndSystemState((function(state){return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{draggingViewModels:state.draggingViewModels.filter((function(it){return it.id!==viewModal.id}))})}))},dndRemoveAllDraggingViewModals:function dndRemoveAllDraggingViewModals(){return setDndSystemState((function(state){return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{draggingViewModels:[]})}))},dndSetDropTargetViewModal:function dndSetDropTargetViewModal(viewModal){return setDndSystemState((function(state){return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{dropTargetViewModal:viewModal})}))}}},RDndSystemContext=react_default.a.createContext({}),DefaultPos=(__webpack_require__(1188),{x:0,y:0}),DefaultEdgeDirections=["n","s","w","e"],DefaultCornerDirections=["nw","ne","sw","se"],RDnDView_RDnDView=function RDnDView(_ref){var viewModal=_ref.viewModal,resizeHandler=_ref.resizeHandler,_ref$resizeEdgeWidth=_ref.resizeEdgeWidth,resizeEdgeWidth=void 0===_ref$resizeEdgeWidth?6:_ref$resizeEdgeWidth,_ref$resizeDirections=_ref.resizeDirections,resizeDirections=void 0===_ref$resizeDirections?["n","s","w","e","nw","ne","sw","se"]:_ref$resizeDirections,_ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,children=_ref.children,dropHandler=_ref.dropHandler,_ref$onDrag=_ref.onDrag,onDrag=void 0===_ref$onDrag?function(){}:_ref$onDrag,_ref$onDragEnd=_ref.onDragEnd,onDragEnd=void 0===_ref$onDragEnd?function(){}:_ref$onDragEnd,_ref$onFocus=_ref.onFocus,onFocus=void 0===_ref$onFocus?function(){}:_ref$onFocus,refToForward=_ref.refToForward,otherProps=Object(objectWithoutProperties.a)(_ref,["viewModal","resizeHandler","resizeEdgeWidth","resizeDirections","style","children","dropHandler","onDrag","onDragEnd","onFocus","refToForward"]),resizeRef=Object(react.useRef)({resizing:!1,resizeDirection:"n",mouseScreenX:0,mouseScreenY:0,width:style.width,height:style.height});resizeRef.current.width=style.width||"fit-content",resizeRef.current.height=style.height||"fit-content";var _useContext=Object(react.useContext)(RDndSystemContext),rDndSystemState=_useContext.rDndSystemState,dndSetDropInfo=_useContext.dndSetDropInfo,dndAddDraggingViewModal=_useContext.dndAddDraggingViewModal,dndRemoveAllDraggingViewModals=_useContext.dndRemoveAllDraggingViewModals,dndSetDropTargetViewModal=_useContext.dndSetDropTargetViewModal,domRef=Object(react.useRef)(null);null==refToForward||refToForward(domRef),viewModal.viewRef=domRef;var dragRef=Object(react.useRef)({isDragging:!1,mouseDownAtViewPos:DefaultPos,translation:DefaultPos,posOrigin:DefaultPos,pos:DefaultPos}),viewModalRef=Object(react.useRef)(viewModal);viewModalRef.current=viewModal;var dndSystemStateRef=Object(react.useRef)(rDndSystemState);dndSystemStateRef.current=rDndSystemState;var _useState=Object(react.useState)(dragRef.current),_useState2=Object(slicedToArray.a)(_useState,2),dragState=_useState2[0],setDragState=_useState2[1];Object(react.useLayoutEffect)((function(){var width=resizeRef.current.width,height=resizeRef.current.height;if(!dragState.isDragging&&domRef.current&&("fit-content"===width||"fit-content"===height)){var widthPx=domRef.current.clientWidth;resizeRef.current.width=widthPx;var heightPx=domRef.current.clientHeight;resizeRef.current.height=heightPx,resizeHandler(viewModalRef.current,{width:widthPx,height:heightPx})}}));var _domRef$current3,_domRef$current4,draggedStyles=Object(react.useCallback)((function(){return Object(objectSpread2.a)(Object(objectSpread2.a)({},style),{},{cursor:"grabbing",zIndex:2e3,position:"fixed",top:dragState.pos.y,left:dragState.pos.x,pointerEvents:"none"})}),[dragState,style]),staticStyles=Object(react.useCallback)((function(){return Object(objectSpread2.a)(Object(objectSpread2.a)({},style),{},{position:"absolute",cursor:"grab"})}),[style]),handleResizing=function handleResizing(event){var _resizeRef$current=resizeRef.current,resizing=_resizeRef$current.resizing,resizeDirection=_resizeRef$current.resizeDirection,mouseScreenX=_resizeRef$current.mouseScreenX,mouseScreenY=_resizeRef$current.mouseScreenY;if(resizing){var newWidth,newHeight,dx=event.screenX-mouseScreenX,dy=event.screenY-mouseScreenY;switch(resizeRef.current.mouseScreenX=event.screenX,resizeRef.current.mouseScreenY=event.screenY,resizeDirection){case"w":newWidth=handleHorizontalResizing(dx=-dx);break;case"e":newWidth=handleHorizontalResizing(dx);break;case"n":newHeight=handleVerticalResizing(dy=-dy);break;case"s":newHeight=handleVerticalResizing(dy);break;case"nw":dy=-dy,newWidth=handleHorizontalResizing(dx=-dx),newHeight=handleVerticalResizing(dy);break;case"ne":dy=-dy,newWidth=handleHorizontalResizing(dx),newHeight=handleVerticalResizing(dy);break;case"sw":newWidth=handleHorizontalResizing(dx=-dx),newHeight=handleVerticalResizing(dy);break;case"se":newWidth=handleHorizontalResizing(dx),newHeight=handleVerticalResizing(dy)}void 0===newWidth&&void 0===newHeight||resizeHandler(viewModalRef.current,{width:newWidth,height:newHeight,resizeDirection:resizeDirection,dx:dx,dy:dy})}},handleResizeStart=function handleResizeStart(direction,event){resizeRef.current.resizing||0===event.button&&(event.preventDefault(),event.stopPropagation(),resizeRef.current.resizing=!0,resizeRef.current.resizeDirection=direction,resizeRef.current.mouseScreenX=event.screenX,resizeRef.current.mouseScreenY=event.screenY,document.addEventListener("mousemove",handleResizing),document.addEventListener("mouseup",handleResizeStop))},handleResizeStop=function handleResizeStop(event){0===event.button&&(event.stopPropagation(),event.preventDefault(),resizeRef.current.resizing=!1,resizeRef.current.resizeDirection="n",resizeRef.current.mouseScreenX=event.screenX,resizeRef.current.mouseScreenY=event.screenY,document.removeEventListener("mousemove",handleResizing),document.removeEventListener("mouseup",handleResizeStop))},handleHorizontalResizing=function handleHorizontalResizing(dx){var newWidth;if(0!==dx){var width=resizeRef.current.width;if("number"==typeof width)newWidth=resizeRef.current.width+dx;else if((null==width?void 0:width.endsWith("%"))&&domRef.current){var parentRect=domRef.current.parentNode.getBoundingClientRect();if(parentRect.width&&parentRect.width>0){var _currentWidth=parseFloat(resizeRef.current.width.replace("%",""));newWidth="".concat(_currentWidth+100*dx/parentRect.width,"%")}}}return newWidth},handleVerticalResizing=function handleVerticalResizing(dy){var newHeight;if(0!==dy){var height=resizeRef.current.height;if("number"==typeof height)newHeight=resizeRef.current.height+dy;else if((null==height?void 0:height.endsWith("%"))&&domRef.current){var parentRect=domRef.current.parentNode.getBoundingClientRect();if(parentRect.height&&parentRect.height>0){var _currentHeight=parseFloat(resizeRef.current.height.replace("%",""));newHeight="".concat(_currentHeight+100*dy/parentRect.height,"%")}}}return newHeight},onMouseMove=function onMouseMove(event){var clientX=event.clientX,clientY=event.clientY;event.stopPropagation(),event.preventDefault();var translation={x:clientX-dragRef.current.posOrigin.x,y:clientY-dragRef.current.posOrigin.y},pos={x:clientX-dragRef.current.mouseDownAtViewPos.x,y:clientY-dragRef.current.mouseDownAtViewPos.y};dragRef.current=Object(objectSpread2.a)(Object(objectSpread2.a)({},dragRef.current),{},{translation:translation,pos:pos}),setDragState(dragRef.current),onDrag({viewModals:dndSystemStateRef.current.draggingViewModels,translation:translation})},onMouseUp=function onMouseUp(event){var clientX=event.clientX,clientY=event.clientY,button=event.button;if(event.stopPropagation(),event.preventDefault(),0===button){window.removeEventListener("mousemove",onMouseMove),window.removeEventListener("mouseup",onMouseUp);var translation={x:clientX-dragRef.current.posOrigin.x,y:clientY-dragRef.current.posOrigin.y},pos={x:clientX-dragRef.current.mouseDownAtViewPos.x,y:clientY-dragRef.current.mouseDownAtViewPos.y},dropInfo={viewModals:dndSystemStateRef.current.draggingViewModels,pos:pos,translation:translation,mouseDownAtViewPos:dragRef.current.mouseDownAtViewPos,toViewModal:dndSystemStateRef.current.dropTargetViewModal};onDragEnd(dropInfo),dndSetDropInfo(dropInfo),dropHandler(dropInfo),dragRef.current=Object(objectSpread2.a)(Object(objectSpread2.a)({},dragRef.current),{},{isDragging:!1,mouseDownAtViewPos:DefaultPos,posOrigin:DefaultPos,translation:DefaultPos,pos:DefaultPos}),setDragState(dragRef.current)}},getResizeEdgeStyleProps=function getResizeEdgeStyleProps(resizeDirection){var width,height,top,bottom,left,right,cursor="ns-resize",styleResizable=staticStyles();switch(resizeDirection){case"n":width=styleResizable.width,height=resizeEdgeWidth,top=-resizeEdgeWidth/2,bottom=void 0,left=0,right=void 0,cursor="ns-resize";break;case"s":width=styleResizable.width,height=resizeEdgeWidth,top=void 0,bottom=-resizeEdgeWidth/2,left=0,right=void 0,cursor="ns-resize";break;case"w":width=resizeEdgeWidth,height=styleResizable.height,top=0,bottom=void 0,left=-resizeEdgeWidth/2,right=void 0,cursor="ew-resize";break;case"e":width=resizeEdgeWidth,height=styleResizable.height,top=0,bottom=void 0,left=void 0,right=-resizeEdgeWidth/2,cursor="ew-resize"}return{position:"absolute",width:width,height:height,top:top,bottom:bottom,left:left,right:right,cursor:cursor,zIndex:2e3}},getResizeCornerStyleProps=function getResizeCornerStyleProps(resizeDirection){var top,bottom,left,right,width=resizeEdgeWidth,height=resizeEdgeWidth,cursor="nesw-resize";switch(resizeDirection){case"nw":top=-resizeEdgeWidth/2,bottom=void 0,left=-resizeEdgeWidth/2,right=void 0,cursor="nwse-resize";break;case"ne":top=-resizeEdgeWidth/2,bottom=void 0,left=void 0,right=-resizeEdgeWidth/2,cursor="nesw-resize";break;case"sw":top=void 0,bottom=-resizeEdgeWidth/2,left=-resizeEdgeWidth/2,right=void 0,cursor="nesw-resize";break;case"se":top=void 0,bottom=-resizeEdgeWidth/2,left=void 0,right=-resizeEdgeWidth/2,cursor="nwse-resize"}return{position:"absolute",width:width,height:height,top:top,bottom:bottom,left:left,right:right,cursor:cursor,zIndex:2001}};dndSystemStateRef.current.draggingViewModels.reduce((function(accumulator,vm){return vm.id===viewModalRef.current.id&&(accumulator=!0),accumulator}),!1)?null===(_domRef$current3=domRef.current)||void 0===_domRef$current3||_domRef$current3.setAttribute("focused","true"):null===(_domRef$current4=domRef.current)||void 0===_domRef$current4||_domRef$current4.removeAttribute("focused");return dragState.isDragging?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",Object(objectSpread2.a)(Object(objectSpread2.a)({className:"dnd-resizable",style:draggedStyles()},otherProps),{},{children:children})),Object(jsx_runtime.jsx)("div",Object(objectSpread2.a)(Object(objectSpread2.a)({tabIndex:0,className:"dnd-resizable",ref:domRef,style:Object(objectSpread2.a)(Object(objectSpread2.a)({},staticStyles()),{},{opacity:.5})},otherProps),{},{children:children}))]}):Object(jsx_runtime.jsxs)("div",Object(objectSpread2.a)(Object(objectSpread2.a)({tabIndex:0,className:"dnd-resizable",ref:domRef,onMouseDown:function onMouseDown(event){var _domRef$current,clientX=event.clientX,clientY=event.clientY,button=event.button;event.stopPropagation(),event.preventDefault();var boundingRect=null===(_domRef$current=domRef.current)||void 0===_domRef$current?void 0:_domRef$current.getBoundingClientRect();if(0===button&&void 0!==boundingRect){var _domRef$current2;null===(_domRef$current2=domRef.current)||void 0===_domRef$current2||_domRef$current2.focus(),null==onFocus||onFocus(event.shiftKey),dndSetDropInfo(null),event.shiftKey||dndRemoveAllDraggingViewModals(),window.addEventListener("mousemove",onMouseMove),window.addEventListener("mouseup",onMouseUp);var mouseDownAtViewPos={x:clientX-boundingRect.left,y:clientY-boundingRect.top},pos={x:clientX-mouseDownAtViewPos.x,y:clientY-mouseDownAtViewPos.y};dragRef.current=Object(objectSpread2.a)(Object(objectSpread2.a)({},dragRef.current),{},{isDragging:!0,mouseDownAtViewPos:mouseDownAtViewPos,posOrigin:{x:clientX,y:clientY},pos:pos}),setDragState(dragRef.current),dndAddDraggingViewModal(viewModalRef.current,event.shiftKey)}},onMouseOver:function onMouseOver(event){event.stopPropagation(),event.preventDefault();var draggingViewModels=dndSystemStateRef.current.draggingViewModels;draggingViewModels.length>0&&draggingViewModels.reduce((function(acc,it){return acc&&it.id!==viewModalRef.current.id}),!0)&&dndSetDropTargetViewModal(viewModalRef.current)},onMouseOut:function onMouseOut(event){event.stopPropagation(),event.preventDefault(),dndSystemStateRef.current.dropTargetViewModal&&dndSystemStateRef.current.dropTargetViewModal.id===viewModalRef.current.id&&dndSetDropTargetViewModal(null)},style:staticStyles(),onClick:function onClick(event){var _domRef$current5;return(null===(_domRef$current5=domRef.current)||void 0===_domRef$current5?void 0:_domRef$current5.focus())&&(null==onFocus?void 0:onFocus(event.shiftKey))}},otherProps),{},{children:[DefaultEdgeDirections.map((function(resizeDirection){return function renderResizableEdge(resizeDirection){return resizeDirections.includes(resizeDirection)?Object(jsx_runtime.jsx)("div",{className:"dnd-resizable-edge",onMouseDown:function onMouseDown(event){event.stopPropagation(),event.preventDefault(),handleResizeStart(resizeDirection,event)},style:Object(objectSpread2.a)({},getResizeEdgeStyleProps(resizeDirection))},resizeDirection):null}(resizeDirection)})),DefaultCornerDirections.map((function(resizeDirection){return function renderResizableCorner(resizeDirection){return resizeDirections.includes(resizeDirection)?Object(jsx_runtime.jsx)("div",{className:"dnd-resizable-corner",onMouseDown:function onMouseDown(event){event.stopPropagation(),event.preventDefault(),handleResizeStart(resizeDirection,event)},style:Object(objectSpread2.a)({},getResizeCornerStyleProps(resizeDirection))},resizeDirection):null}(resizeDirection)})),children]}))},src_components_RDnDView=RDnDView_RDnDView;try{RDnDView_RDnDView.displayName="RDnDView",RDnDView_RDnDView.__docgenInfo={description:"",displayName:"RDnDView",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RDnDView/index.tsx#RDnDView"]={docgenInfo:RDnDView_RDnDView.__docgenInfo,name:"RDnDView",path:"src/components/RDnDView/index.tsx#RDnDView"})}catch(__react_docgen_typescript_loader_error){}var RDnDCanvas_RDnDCanvas=function RDnDCanvas(_ref){var _ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,children=_ref.children;Object(objectWithoutProperties.a)(_ref,["style","children"]);style=Object(objectSpread2.a)({width:"100%",height:"100%",overflow:"auto"},style);var context=Object(react.useContext)(RDndSystemContext);return Object(jsx_runtime.jsx)("div",{style:style,children:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[context.rDndSystemState.viewModalStructure.map((function(viewModal){return function renderRDnDStructure(viewModal){return Array.isArray(viewModal.children)&&viewModal.children.length>0?Object(jsx_runtime.jsx)(src_components_RDnDView,{viewModal:viewModal,style:viewModal.style,resizeHandler:context.dndResizeHandler,dropHandler:context.dndDropHandler,children:viewModal.children.map((function(childViewModal){return renderRDnDStructure(childViewModal)}))},viewModal.id):Object(jsx_runtime.jsx)(src_components_RDnDView,{viewModal:viewModal,style:viewModal.style,resizeHandler:context.dndResizeHandler,dropHandler:context.dndDropHandler,children:viewModal.children},viewModal.id)}(viewModal)})),children]})})},components_RDnDCanvas=RDnDCanvas_RDnDCanvas;try{RDnDCanvas_RDnDCanvas.displayName="RDnDCanvas",RDnDCanvas_RDnDCanvas.__docgenInfo={description:"",displayName:"RDnDCanvas",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RDnDCanvas/index.tsx#RDnDCanvas"]={docgenInfo:RDnDCanvas_RDnDCanvas.__docgenInfo,name:"RDnDCanvas",path:"src/components/RDnDCanvas/index.tsx#RDnDCanvas"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Components/Resizable Drag and Drop View",component:src_components_RDnDView,parameters:{docs:{source:{type:"code"}}}};var resizableDndView_stories_ResizableDndViewExample=function ResizableDndViewExample(){var rDndSystemContext=context_useInitialRDndSystemContext(),_useState=Object(react.useState)(0),_useState2=Object(slicedToArray.a)(_useState,2),viewCount=_useState2[0],setViewCount=_useState2[1],addViewModal=Object(react.useCallback)((function(){rDndSystemContext.dndAddViewModal({id:"RDnDView".concat(viewCount+1),style:getDefaultDndViewStyle(viewCount),children:Object(jsx_runtime.jsx)("span",{children:"RDnDView".concat(viewCount+1)})}),setViewCount(viewCount+1)}),[viewCount,rDndSystemContext]);return Object(react.useEffect)((function(){addViewModal()}),[]),Object(jsx_runtime.jsxs)(RDndSystemContext.Provider,{value:rDndSystemContext,children:[Object(jsx_runtime.jsx)(components_RDnDCanvas,{}),Object(jsx_runtime.jsx)("button",{style:{position:"absolute",bottom:20,height:30,width:100,zIndex:3e3},onClick:function onClick(){return addViewModal()},children:"Add View"})]})},getDefaultDndViewStyle=function getDefaultDndViewStyle(index){var getRandomInt=function getRandomInt(min,max){return min=Math.ceil(min),max=Math.floor(max),Math.floor(Math.random()*(max-min+1))+min};return{width:getRandomInt(100,200),height:getRandomInt(100,200),left:20+20*index,top:20,textAlign:"center",border:"1px solid #bfbfbf"}};resizableDndView_stories_ResizableDndViewExample.parameters=Object(objectSpread2.a)({storySource:{source:'() => {\n  const rDndSystemContext = useInitialRDndSystemContext();\n  const [viewCount, setViewCount] = useState(0);\n\n  const addViewModal = useCallback(() => {\n    rDndSystemContext.dndAddViewModal({\n      id: `RDnDView${viewCount + 1}`,\n      style: getDefaultDndViewStyle(viewCount),\n      children: <span>{`RDnDView${viewCount + 1}`}</span>,\n    });\n    setViewCount(viewCount + 1);\n  }, [viewCount, rDndSystemContext]);\n\n  useEffect(() => {\n    addViewModal();\n  }, []);\n\n  return (\n    <RDndSystemContext.Provider value={rDndSystemContext}>\n      <RDndCanvas />\n      <button\n        style={{\n          position: "absolute",\n          bottom: 20,\n          height: 30,\n          width: 100,\n          zIndex: 3000,\n        }}\n        onClick={() => addViewModal()}\n      >\n        Add View\n      </button>\n    </RDndSystemContext.Provider>\n  );\n}'}},resizableDndView_stories_ResizableDndViewExample.parameters);try{resizableDndView_stories_ResizableDndViewExample.displayName="ResizableDndViewExample",resizableDndView_stories_ResizableDndViewExample.__docgenInfo={description:"",displayName:"ResizableDndViewExample",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/resizableDndView.stories.tsx#ResizableDndViewExample"]={docgenInfo:resizableDndView_stories_ResizableDndViewExample.__docgenInfo,name:"ResizableDndViewExample",path:"src/stories/resizableDndView.stories.tsx#ResizableDndViewExample"})}catch(__react_docgen_typescript_loader_error){}},514:function(module,exports,__webpack_require__){__webpack_require__(515),__webpack_require__(731),__webpack_require__(732),__webpack_require__(894),__webpack_require__(1110),__webpack_require__(1142),__webpack_require__(1150),__webpack_require__(1162),__webpack_require__(1164),__webpack_require__(1169),__webpack_require__(1171),__webpack_require__(1182),module.exports=__webpack_require__(1184)},617:function(module,exports){},732:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(389)}},[[514,1,2]]]);
//# sourceMappingURL=main.c5d6ee884cf44698c808.bundle.js.map